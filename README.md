# Бесконечный скролл

## Вводные данные

1) Окно фиксированного размера (это важно). В  нём рендерится виртуальный список.

2) Высота одно элемента. Нужна для подсчёта размера чанка (количества элементов в чанке)

3) Чанк. Содержит количество элементов (2), способное полностью заполнить ОКНО (1). РАЗМЕРЫ ЧАНКА - означают количество его элементов внутри него. ВЫСОТА ЧАНКА - вычисляется по формуле РАЗМЕРЫ ЧАНКА * ВЫСОТА 1 ЭЛЕМЕНТА

4) Направление скролла. Влияет на подсчёт для рендера следующего (или предыдущего) чанка.

5) Индекс рендера. За ним нужно следить, чтобы понимать, какие элементы надо рендерить следующими.



## Рендеринг списка

Для того чтобы обеспечить плавную подгрузку нужных элементов, мы должны держать в ДОМе четыре (4) чанка.

###### В каждый момент времени мы видим 2 чанка (иногда 1, но это редкость)

### При движении вниз  (scroll down)
Следующий чанк рендерится, с учётом того чтообы в запасе был минимум ещё 1 чанк. Можно читать иначе - рендерим следующий чанк, если количество элементов в списке снизу МЕНЬШЕ ИЛИ РАВНО размеру чанка.